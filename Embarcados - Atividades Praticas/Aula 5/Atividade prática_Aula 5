Universidade de Brasília
Aluno: Douglas da Silveira Alves		Matrícula: 13/0024881
data: 22/03/17


			Atividade Prática - Aula 5

1. Crie um código em C para escrever "Ola mundo!" em um arquivo chamado 'ola_mundo.txt'.

-->Código

#include <stdio.h>
#include <fcntl.h>
#include <unistd.h>
#include <stdlib.h>

int main()
{
	int fp, i;
	char string[100]="Ola mundo !";

	fp = open ("ola_mundo.txt", O_WRONLY | O_CREAT, S_IRWXU);
	if(fp==-1)
	{
		printf ("Erro na abertura do arquivo.\n");
		exit (1);
	}
	
	for(i=0; string[i]; i++)
		write(fp, &(string[i]), 1);
	write(fp, "\n", 1);
	close(fp);

	return 0;
}

-->Comando
gcc q1.c -o hello
./hello
cat ola_mundo.txt



2. Crie um código em C que pergunta ao usuário seu nome e sua idade, e escreve este conteúdo em um arquivo com o seu nome e extensão '.txt'. Por exemplo, considerando que o código criado recebeu o nome de 'ola_usuario_1':
	$ ./ola_usuario_1
	$ Digite o seu nome: Eu
	$ Digite a sua idade: 30
	$ cat Eu.txt
	$ Nome: Eu
	$ Idade: 30 anos
	$

-->Código

#include <stdio.h>
#include <fcntl.h>
#include <unistd.h>
#include <stdlib.h>
#include <string.h>

int main()
{
	int fp, i;
	char string[100];
	char id[4];
	char nome[]="Nome: ";
	char idade[]="Idade: ";

	fp = open ("eu.txt", O_WRONLY | O_CREAT, S_IRWXU);
	if(fp==-1)
	{
		printf ("Erro na abertura do arquivo.\n");
		exit (1);
	}

	strcat(nome, string);
	
	
	printf("Digite seu nome:\n");
	scanf("%s", string);

	printf("Digite sua idade:\n");
	scanf("%s", id);

		
	strcat (nome, string); 
	strcat (idade, id);
	strcat (idade, " anos.\n");

	for(i=0; nome[i]; i++)
		write(fp, &(nome[i]), 1); 	
		write(fp, "\n", 1);

	
	for(i=0; idade[i]; i++)
		write(fp, &(idade[i]), 1); 	
		write(fp, "\n", 1);
	
	close(fp);

	return 0;
}

-->Comandos
gcc q2.c -o ola_usuario_1
./ola_usuario_1
.
.
.
cat eu.txt 


3. Crie um código em C que recebe o nome do usuário e e sua idade como argumentos de entrada (usando as variáveis argc e *argv[]), e escreve este conteúdo em um arquivo com o seu nome e extensão '.txt'. Por exemplo, considerando que o código criado recebeu o nome de 'ola_usuario_2':
	$ ./ola_usuario_2 Eu 30
	$ cat Eu.txt
	$ Nome: Eu
	$ Idade: 30 anos
	$

-->Código

#include <stdio.h>
#include <fcntl.h>
#include <unistd.h>
#include <stdlib.h>
#include <string.h>

int main(int argc, char *argv[])
{
	int fp, i;
	int t=1;
	char string[100];
	char id[4];
	char nome[]="Nome: ";
	char idade[]="Idade: ";

	fp = open ("eu2.txt", O_WRONLY | O_CREAT, S_IRWXU);
	if(fp==-1)
	{
		printf ("Erro na abertura do arquivo.\n");
		exit (1);
	}
	
	

	for(i=1; i<(argc-1) ;i++){
	
		strcat(string, argv[i]);
		strcat(string, " ");	
	}
	

	strcat (nome, string); 
	strcat (idade, argv[argc-1]);
	strcat (idade, " anos.\n");

	for(i=0; nome[i]; i++)
		write(fp, &(nome[i]), 1); 	
		write(fp, "\n", 1);

	
	for(i=0; idade[i]; i++)
		write(fp, &(idade[i]), 1); 	
		write(fp, "\n", 1);
	
	close(fp);

	return 0;
}

-->Comando
gcc q3.c -o ola_usuario_2
./ola_usuario_2 Douglas 21
cat eu2.txt


4. Crie uma função que retorna o tamanho de um arquivo, usando o seguinte protótipo:

int tam_arq_texto(char *nome_arquivo);



